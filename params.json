{"name":"Dependency-mediator","tagline":"Concentrated on solving java components conflict problem!","body":"# Dependency mediator project  [![Build Status](https://travis-ci.org/vongosling/dependency-mediator.svg?branch=master)](https://travis-ci.org/vongosling/dependency-mediator)\r\n\r\n\r\nUnlike karaf and other lightness modular technology(like osgi,class names do not need to be unique,but the combination of class names and their defining ClassLoader must to be unique),dependency mediator try to remedy compononet dependency conflicting problem before the runtime rather than using customized classLoader to agree with  the coexistence of different version components,thus avoid some well-konwn errors,such as NoSuchMethodError,NoSuchFieldError and NoClassDefFoundError etc.\r\n\r\nNowadays,I have initiated a dependency mediator project, but in my opinion,integration with the maven enforcer plugin may be a better choice, I would try and donate this project to codehaus in the near future. \r\n \r\n## Features\r\n* Compatible with maven 3.x.x plugin programming model\r\n* Compatible with JDK 6+\r\n* Support directory scan,including classpath\r\n* Support component scan,including jar,war,ear,sar and so on\r\n* Support conflicting classes scan,conflict means the same fully-qualified class name, but not the same digest or incompatible class(details see [jls](http://docs.oracle.com/javase/specs/jls/se7/html/jls-13.html) and [class compatibility](http://www.oracle.com/technetwork/java/javase/compatibility-137541.html))\r\n\r\n\r\n\r\n## Available version\r\n\r\n### 1.1.0 will release on 2014.11.08\r\n* Optimize - less code,more things;\r\n* Feature - Abstract version incompatible algorithm,support customized version diff strategy;\r\n* Feature - Support conflicting incompatible class scan\r\n \r\n### 1.0.1 release on 2014.10.11\r\n* Feature - Compatible with JDK 6+,maven 2.2.x and 3.x.x plugin programming model;\r\n* Feature - Core module support directory scan,also including classpath if you set property scanClasspath;\r\n* Feature - Support conflicting digest classes scan\r\n\r\n## How to Use\r\n\r\n### Maven plugin(Compatible with maven 3.x.x,Latest version can be founded from [maven center repository](http://search.maven.org/#search%7Cga%7C1%7Cdependency-mediator-maven-plugin))\r\n\t<plugin>\r\n\t\t<groupId>com.github.vongosling</groupId>\r\n\t\t<artifactId>dependency-mediator-maven-plugin</artifactId>\r\n\t\t<version>1.0.1</version>\r\n\t</plugin>\r\n\r\nyou can also add plugin's groupId to the list of groupIds searched by default. To do this, you need to add the following to your ${user.home}/.m2/settings.xml file:\r\n\r\n    <pluginGroups>\r\n       <pluginGroup>com.github.vongosling</pluginGroup>\r\n    </pluginGroups>\r\n\r\nfinally,you can run the mojo with ***mvn mediator:check***\r\n\r\n\r\n### Standalone \r\nAfter import the following jar\r\n\r\n    <dependency>\r\n       <groupId>com.github.vongosling</groupId>\r\n\t   <artifactId>dependency-mediator-core</artifactId>\r\n\t   <version>1.0.1</version>\r\n\t</dependency>\r\n\t\r\nYou can invoke the command ***mvn exec:java -Dexec.args=\"scanWhere -DscanClasspath\"*** in maven project or invoke class DependencyMediator\r\n## Usecase\r\nOutput may be like this if you use standalone mode:\r\n \t    \r\n \tOutput component reactor info......\r\n    Conflicting component  [com.alibaba.rocketmq.storm.MessageConsumerManager] was founded in the  path : \r\n \t    /home/von/workspace/rocketmq-storm/dd/rocketmq-storm-1.0.0-SNAPSHOT-11/com/alibaba/rocketmq/storm/MessageConsumerManager.class\r\n \t    /home/von/workspace/rocketmq-storm/dd/rocketmq-storm-1.0.0-SNAPSHOT.jar:com/alibaba/rocketmq/storm/MessageConsumerManager.class\r\n    Conflicting component  [com.alibaba.rocketmq.storm.MessageConsumer] was founded in the  path : \r\n \t    /home/von/workspace/rocketmq-storm/dd/rocketmq-storm-1.0.0-SNAPSHOT-11/com/alibaba/rocketmq/storm/MessageConsumer.class\r\n \t    /home/von/workspace/rocketmq-storm/dd/rocketmq-storm-1.0.0-SNAPSHOT/com/alibaba/rocketmq/storm/MessageConsumer.class\r\n \t    \r\n \t    \r\nBut if you using maven plugin,ouput may be like this:\r\n\r\n    [WARNING] Founded conflicting dependency component:org.apache.commons:commons-lang3:jar\r\n     Resolved version is org.apache.commons:commons-lang3:jar:3.1:compile\r\n     But found conflicting artifact org.apache.commons:commons-lang3:3.3.2\r\n    [WARNING] Founded conflicting dependency component:org.apache.thrift:libthrift:jar\r\n     Resolved version is org.apache.thrift:libthrift:jar:0.8.0:compile\r\n     But found conflicting artifact org.apache.thrift:libthrift:0.9.1\r\n\r\n\r\n## Background \r\n\r\nAs we know,when we are developing a java project,getting used to use maven dependency plugin to solve the jar conflicting problem,may be using maven dependency pluginï¼š\r\n\r\n    mvn dependency:tree -Dverbose -DoutputFile=out.txt -DoutputType=dot\r\n    \r\nbut if we need to build our project to war package according with Java EE specification.we always have nothing to do but with the naked eye to lookup some underlying conflict packages.of course,which depend on Java EE container class loading mechanism.\r\n\r\nNow,dependency mediator can help you to solve this problems,if you have better idea or improving suggestion,please contact [me](fengjia10@gmail.com) or join Tencent QQ group:80524460.\r\n","google":"UA-55583532-1","note":"Don't delete this file! It's used internally to help with page regeneration."}